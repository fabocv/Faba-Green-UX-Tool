
# Faba ‚Äî Benchmark de Eficiencia Web

## Autor
### Fabi√°n Catal√°n
- Github: https://github.com/fabocv
- LinkedIn: https://www.linkedin.com/in/fkatv

---

**¬øPor qu√© una aplicaci√≥n construida con la misma l√≥gica pesa el doble en un framework que en otro?** Faba no es solo un benchmark de velocidad; es una balanza para medir el costo digital, t√©cnico y ambiental que tus decisiones de arquitectura le imponen al usuario final.

## **üìñ Elige tu nivel de profundidad:**
- **¬øEres Dise√±ador, PM o curioso por la Sostenibilidad?** üëâ Lee nuestra [Gu√≠a Esencial (Sin tecnicismos)](docs/esencial.md)

  Descubre c√≥mo el "equipaje digital" afecta la bater√≠a de tus usuarios y al planeta.

- **¬øEres Desarrollador, Arquitecto o Auditor T√©cnico?** üëâ Explora la [Metodolog√≠a Detallada](docs/methodology.md)
  
  Rigor estad√≠stico ($M=20$), auditor√≠a de Long Tasks y el c√°lculo del √çndice de Eficiencia Relativa.

---

## El Desaf√≠o: El "Sesgo de la Fibra √ìptica"
La mayor√≠a de las aplicaciones modernas se dise√±an en entornos ideales: procesadores potentes y conexiones ultrarr√°pidas. Esto oculta la Causa Ra√≠z del problema: el Impuesto Tecnol√≥gico.

Cada framework a√±ade una capa de "costo de entrada" (descarga de JS, tiempo de ejecuci√≥n y bloqueo del hilo principal) que el usuario paga antes de poder interactuar. Faba hace visible este costo invisible.

---

## ¬øPor qu√© Faba ahora? 
El rendimiento siempre ha importado, pero hoy el escenario ha cambiado:

1) **Responsabilidad Ambiental**: La eficiencia digital es ahora un pilar de la sostenibilidad corporativa (Green UX).

2) **Saturaci√≥n de Dispositivos**: El hardware de gama media/baja ya no puede seguir el ritmo del crecimiento exponencial del JavaScript.

3) **Madurez T√©cnica**: Por primera vez, existen alternativas reales (Astro, Svelte, Qwik, Vanilla) para cuestionar el statu quo de las SPAs pesadas.

--- 

## ¬øQu√© hace Faba exactamente? 

Faba se especializa en el Cold Start (Carga en fr√≠o). No medimos navegaci√≥n de larga duraci√≥n, sino el Costo de Entrada.

Bajo un entorno **Headless controlado**, ejecutamos aplicaciones funcionalmente id√©nticas (1000 registros de datos est√°ticos) para auditar:

- **Equipaje (Red):** Datos transferidos y conteo de peticiones.

- **Esfuerzo (CPU):** Tiempo de ejecuci√≥n de JS y saturaci√≥n del hilo principal.

- **Estabilidad (FTTS):** Nuestra m√©trica propia, el *Faba Time To Stability*, que detecta cu√°ndo la app es realmente usable tras 300ms de calma total en el procesador.

---

## Rigurosidad

Para garantizar que los resultados sean indiscutibles, aplicamos:

- **Aislamiento Total**: Sin librer√≠as externas de medici√≥n, solo APIs nativas del navegador.
- **Estabilidad Estad√≠stica**: Cada escenario se repite 20 veces ($M=20$) con limpieza total de cach√© entre turnos para eliminar el ruido.
- **L√≠nea Base Vanilla**: Comparamos todo contra una versi√≥n en Vanilla JS para conocer el costo m√≠nimo inevitable del navegador.

| Framework	|baseline-light	| design-system-heavy |
|-----------|---------------|---------------------|
| VanillaJS | CSS plano / utilitario | Material Web Components|
| React |	CSS plano / utilitario	 | Material UI (MUI) |
| Angular |	CSS plano / utilitario | 	Angular Material |
| Vue 3* |	CSS plano / utilitario	 | Vuetify |
| Svelte |	CSS plano / utilitario | 	Svelte Material UI |
| SolidJS* |	CSS plano / utilitario | 	Material Web Components |

> (*) Disponibles para la Versi√≥n 1.2

## Medimos la primera impresi√≥n de los frameworks

Si tu equipo ya invierte en accesibilidad y dise√±o responsable, Faba es el validador t√©cnico de esos valores. No buscamos "frameworks ganadores", sino decisiones informadas.

*"Faba mide costos t√©cnicos reales del frontend moderno utilizando pr√°cticas est√°ndar de benchmarking de sistemas, priorizando comparabilidad y transparencia."*

---

## Documentaci√≥n adicional

- üìÑ Metodolog√≠a completa: [`methodology.md`](docs/methodology.md)
- üìä Ejemplos de resultados: carpeta `/results`
- üß™ Apps evaluadas: carpeta `/apps`

---

# Faba Benchmark v1.1 - Gu√≠a de Instalaci√≥n y Uso

Este monorepositorio contiene un entorno de pruebas automatizado para medir la eficiencia de renderizado en aplicaciones Angular (Versi√≥n Ligera vs. Angular Material).

## üìã Requisitos Previos
Antes de comenzar, aseg√∫rate de tener instalado:

- Node.js (Versi√≥n 18 o superior recomendada)
- Angular CLI (npm install -g @angular/cli)
- Google Chrome (Puppeteer lo utilizar√° para las pruebas)

## üõ†Ô∏è Instalaci√≥n
1. Clonar el proyecto y entrar en la ra√≠z:

```
cd Faba-Front-Bench/
```
2. Instalar las dependencias globales del proyecto: Desde la ra√≠z, instala el orquestador y las utilidades de limpieza:

```
npm install
```

3. Instalar dependencias de cada aplicaci√≥n: Debes instalar los m√≥dulos de cada carpeta para que puedan ejecutarse:
```
# Angular Light
cd apps/angular-test && npm install && cd ../..

# Angular Heavy
cd apps/angular-test-heavy && npm install && cd ../..

# Controlador
cd apps/controller-vanillajs && npm install && cd ../..
```

## Uso del Benchmark

### 1. Iniciar el Entorno
Para levantar las dos aplicaciones de Angular y el controlador simult√°neamente, ejecuta en la ra√≠z:

```
npm run start:all
```
- Angular Light: Se ejecutar√° en http://localhost:4201
- Angular Heavy: Se ejecutar√° en http://localhost:4202
- Controlador: Se abrir√° autom√°ticamente en http://localhost:3000

### 2. Ejecutar las Pruebas
1. Una vez abierto el panel en el navegador, aseg√∫rate de no tener otras pesta√±as pesadas abiertas.

2. Haz clic en "Testear Angular Light". El sistema realizar√° 20 iteraciones autom√°ticas.

3. Al finalizar, haz clic en "Testear Angular Material".

4. Al obtener ambos resultados, se generar√° una Tabla Comparativa autom√°tica con el impacto porcentual.

### 3. Exportar Resultados
Haz clic en el bot√≥n "Descargar Reporte CSV" para obtener un archivo con todas las m√©tricas de rendimiento (FCP, FTTS, Memoria y Bundle) para tu an√°lisis de tesis.

### Limpieza y Errores
Si al intentar iniciar el proyecto recibes un error de "Puerto en uso" o quieres cerrar todo r√°pidamente, ejecuta:

```
npm run clean
```

## Metodolog√≠a de Medici√≥n (Faba v1.1)
- **Warm-up:** Se recomienda ignorar la primera corrida si el ruido ($\sigma$) es > 100ms.
- **Muestreo:** Cada test consta de 20 muestras promediadas.
- **Estabilidad ($\sigma$):** Se busca una desviaci√≥n est√°ndar inferior a ¬±50ms para considerar la prueba v√°lida.

## Pantallas v1.1

![Benchmark](./docs/img/main1.1.png)
Primer prototipo funcional de Faba - Angular test

![Resultado Benchmark](./docs/img/tabla-angular1.1.png)
Resultados comparativos de Angular sin design system (light) y con MUI (heavy)