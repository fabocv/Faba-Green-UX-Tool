
# Faba ‚Äî Benchmark: Comparativa de Frameworks y Eficiencia Digital. 
> Cuantificando el impacto real del stack tecnol√≥gico en la inclusi√≥n digital y la sostenibilidad.

## Autor
### Fabi√°n Catal√°n
- Github: https://github.com/fabocv
- LinkedIn: https://www.linkedin.com/in/fkatv
---

**¬øPor qu√© una aplicaci√≥n construida con la misma l√≥gica presenta variaciones sustanciales de peso entre frameworks?**

M√°s all√° de medir tiempos de carga, Faba caracteriza el impacto t√©cnico del stack frontend en escenarios de carga en fr√≠o.

## **üìñ Elige tu nivel de profundidad:**
- **¬øEres Dise√±ador, PM o curioso por la Sostenibilidad?** üëâ Lee nuestra [Gu√≠a Esencial (Sin tecnicismos)](docs/esencial.md)

  Descubre c√≥mo el "equipaje digital" afecta la bater√≠a de tus dispositivos y al planeta.

- **¬øEres Desarrollador, Arquitecto o Auditor T√©cnico?** üëâ Explora la [Metodolog√≠a Detallada](docs/methodology.md)
  
  Rigor estad√≠stico ($M=20$), auditor√≠a de Long Tasks y el c√°lculo del √çndice de Eficiencia Relativa.

---

## El Desaf√≠o: El "Sesgo de la Fibra √ìptica" e Impuesto tecnol√≥gico
La mayor√≠a de las aplicaciones modernas se dise√±an en condiciones perfectas: computadoras potentes y conexiones a internet ultrarr√°pidas. Esto crea un espejismo que nos impide ver la realidad del usuario com√∫n: el **Impuesto Tecnol√≥gico**.

Cada herramienta que a√±adimos al desarrollo tiene un costo que el usuario paga con su tiempo y su bater√≠a antes de poder usar la app. **Faba** hace visible este costo invisible mediante tres pilares:

1. **La Espera (Carga)**: Lo que tarda en bajar la app a tu dispositivo.

2. **El Esfuerzo (Procesamiento)**: Qu√© tanto tiene que trabajar tu dispositivo para entender el c√≥digo.

3. **La Frustraci√≥n (Bloqueo)**: Esos segundos donde la pantalla se ve bien, pero no responde a tus clics.

---

## ¬øCu√°l es el impacto del rendimiento cuando todo anda veloz? 
El rendimiento siempre ha importado, pero hoy el escenario ha cambiado:

1) **Responsabilidad Ambiental**: La eficiencia digital es ahora un pilar de la sostenibilidad corporativa (Green UX). Un c√≥digo optimizado reduce el consumo energ√©tico de los centros de datos y dispositivos m√≥viles.

2) **Inclusi√≥n Digital**: El hardware de gama media/baja ya no puede seguir el ritmo del crecimiento exponencial del JavaScript, as√≠ lo se√±ala Seg√∫n Alex Rusell en [*The State of the Web*](https://infrequently.org/2021/03/the-performance-inequality-gap/). Por otro lado, la reducci√≥n en milisegundos del renderizado aumenta las tasas de conversi√≥n en pa√≠ses en desarrollo, seg√∫n [*WPO Stats*](https://wpostats.com/), un ejemplo de lo anterior es Pinterest, que redujo el tiempo de espera en un 40% y aument√≥ sus ingresos publicitarios en un 44%. Esto prueba que el hardware lento "expulsa" a los usuarios de la econom√≠a digital si la web es pesada. El rendimiento no es un lujo, es una condici√≥n necesaria para la inclusi√≥n digital en un mercado global diverso.

3) **Impuesto del tiempo de ejecuci√≥n** El tama√±o del bundle (js comprimido) es enga√±oso, pues la experiencia de usuario (la espera) es el parseo y la compilaci√≥n del mismo. EN hardware de gama media-baja es linealmente m√°s lento, creando barreras de acceso ([The Cost of JavaScript - V8 Blog / Andy Osmani](https://v8.dev/blog/cost-of-javascript-2019)).

4) **Madurez T√©cnica**: Existen alternativas reales (Astro, Svelte, Qwik, Vanilla) que se consideran ligeras y nuevas vs. los frameworks m√°s maduros 'tradicionales de la industria'. ¬øhabr√° diferencia de rendimiento considerable antes de escoger un stack para desarrollar aplicaciones web eficientes?. Misko Hevery, creador de Angular, ahora en Qwik; explica que el modelo tradicional de frameworks est√° 'roto' para la web moderna porque obliga a ejecutar el mismo c√≥digo dos veces (server y cliente). Este proyecto busca cuantificar ese 'impuesto de hidrataci√≥n' comparando implementaciones reales. Puedes leer m√°s en [Resumability vs Hydration By Mi≈°ko Hevery](https://www.builder.io/blog/resumability-vs-hydration). 

--- 

## ¬øQu√© hace Faba exactamente? 

Faba se especializa en el Cold start (Carga en fr√≠o). No medimos navegaci√≥n de larga duraci√≥n, sino el *costo de entrada*.

Bajo un entorno **Headless controlado**, ejecutamos aplicaciones funcionalmente id√©nticas (1000 registros de datos est√°ticos) para auditar:

- **Equipaje (Red):** Datos transferidos y conteo de peticiones.

- **Esfuerzo (CPU):** Tiempo de ejecuci√≥n de JS y saturaci√≥n del hilo principal.

- **Estabilidad (FTTS):** Nuestra m√©trica propia, el *Faba Time To Stability*, que detecta cu√°ndo la app es realmente usable tras 300ms de calma total en el procesador.

---

## Rigurosidad

Para garantizar que los resultados sean indiscutibles, aplicamos:

- **Aislamiento Total**: Sin librer√≠as externas de medici√≥n, solo APIs nativas del navegador.
- **Estabilidad Estad√≠stica**: Cada escenario se repite 20 veces ($M=20$) con limpieza total de cach√© entre turnos para eliminar el ruido.
- **L√≠nea Base Vanilla**: Comparamos todo contra una versi√≥n en Vanilla JS para conocer el costo m√≠nimo inevitable del navegador.

| Framework	| version | baseline-light	| design-system-heavy |
|-----------|---------|-----------------|---------------------|
| Angular | Faba v1.1	|CSS plano / utilitario | 	Angular Material |
| React | Faba v1.1	|CSS plano / utilitario	 | Material UI (MUI) |
| VanillaJS | Faba v1.1 | CSS plano / utilitario | Material Web Components|
| Svelte | Faba v1.1 |CSS plano / utilitario | 	Svelte Material UI |
| Vue 3* |Faba v1.2 |CSS plano / utilitario	 | Vuetify |
| SolidJS* | Faba v1.2	|CSS plano / utilitario | 	Material Web Components |

> (*) Disponibles para la Versi√≥n 1.2+

## Medimos la primera impresi√≥n de los frameworks

Si tu equipo ya invierte en accesibilidad y dise√±o responsable, Faba es el validador t√©cnico de esos valores. No buscamos "frameworks ganadores", sino decisiones informadas.

*"Faba mide costos t√©cnicos reales del frontend moderno utilizando pr√°cticas est√°ndar de benchmarking de sistemas, priorizando comparabilidad y transparencia."*

---

## Reflexi√≥n: El Rendimiento como Compromiso Social

Faba es una herramienta dise√±ada para construir una web sustentable (que consume menos recursos) y sostenible (que perdura en el tiempo).

Es nuestro deber como ingenieros seleccionar stacks y librer√≠as que colaboren con la **sustentabilidad energ√©tica**. Mediante la cuantificabilidad del costo de ejecuci√≥n de nuestras aplicaciones, podemos garantizar la **sostenibilidad social** de las mismas. Esto se traduce en:

- **Eficiencia Energ√©tica**: Reducir el tiempo de CPU (como el salto de 484ms a 721ms observado en nuestras pruebas) baja directamente el consumo de vatios por usuario.

- **Perdurabilidad**: Apps que no fuerzan la obsolescencia programada del hardware de gama media y baja.

- **Inclusi√≥n Digital**: Interfaces accesibles para todas y todos, independientemente de su capacidad adquisitiva o su ubicaci√≥n geogr√°fica.

## Documentaci√≥n adicional

- üìÑ Metodolog√≠a completa: [`methodology.md`](docs/methodology.md)
- üìä Ejemplos de resultados: carpeta `/results`
- üß™ Apps evaluadas: carpeta `/apps`

---

# Faba Benchmark v1.1 - Gu√≠a de Instalaci√≥n y Uso

Este monorepositorio contiene un entorno de pruebas automatizado para medir la eficiencia de renderizado en aplicaciones Angular (Versi√≥n Ligera vs. Angular Material).

## üìã Requisitos Previos
Antes de comenzar, aseg√∫rate de tener instalado:

- Node.js (Versi√≥n 18 o superior recomendada)
- Angular CLI (npm install -g @angular/cli)
- Google Chrome (Puppeteer lo utilizar√° para las pruebas)

## üõ†Ô∏è Instalaci√≥n
1. Clonar el proyecto y entrar en la ra√≠z:

```
cd Faba-Front-Bench/
```
2. Instalar las dependencias globales del proyecto: Desde la ra√≠z, instala el orquestador y las utilidades de limpieza:

```
npm install
```

3. Instalar dependencias de cada aplicaci√≥n: Debes instalar los m√≥dulos de cada carpeta para que puedan ejecutarse:
```
# Angular Light
cd apps/angular-test && npm install && cd ../..

# Angular Heavy
cd apps/angular-test-heavy && npm install && cd ../..

# Controlador
cd apps/controller-vanillajs && npm install && cd ../..
```

## Uso del Benchmark

### 1. Iniciar el Entorno
Para levantar las dos aplicaciones de Angular y el controlador simult√°neamente, ejecuta en la ra√≠z:

```
npm run start:all
```
- Angular Light: Se ejecutar√° en http://localhost:4201
- Angular Heavy: Se ejecutar√° en http://localhost:4202
- Controlador: Se abrir√° autom√°ticamente en http://localhost:3000

### 2. Ejecutar las Pruebas
1. Una vez abierto el panel en el navegador, aseg√∫rate de no tener otras pesta√±as pesadas abiertas.

2. Haz clic en "Testear Angular Light". El sistema realizar√° 20 iteraciones autom√°ticas.

3. Al finalizar, haz clic en "Testear Angular Material".

4. Al obtener ambos resultados, se generar√° una Tabla Comparativa autom√°tica con el impacto porcentual.

### 3. Exportar Resultados
Haz clic en el bot√≥n "Descargar Reporte CSV" para obtener un archivo con todas las m√©tricas de rendimiento (FCP, FTTS, Memoria y Bundle) para tu an√°lisis de tesis.

### Limpieza y Errores
Si al intentar iniciar el proyecto recibes un error de "Puerto en uso" o quieres cerrar todo r√°pidamente, ejecuta:

```
npm run clean
```

## Metodolog√≠a de Medici√≥n (Faba v1.1)
- **Warm-up:** Se recomienda ignorar la primera corrida si el ruido ($\sigma$) es > 100ms.
- **Muestreo:** Cada test consta de 20 muestras promediadas.
- **Estabilidad ($\sigma$):** Se busca una desviaci√≥n est√°ndar inferior a ¬±50ms para considerar la prueba v√°lida.

## Pantallas v1.1

![Benchmark](./docs/img/main1.1.png)
Primer prototipo funcional de Faba v1.1 - Angular tests

![Resultado Benchmark](./docs/img/tabla-angular1.1.png)
Resultados comparativos de Angular sin design system (light) y con MUI (heavy) bajo headless controlado y con $M=20$